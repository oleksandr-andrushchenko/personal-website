services:
  generator:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: personal-website-generator
    volumes:
      - ./src:/app                     # source code (templates, scripts, default assets/routes)
      - ./data.json:/data.json         # custom data (root-level)
      - ./routes.json:/routes.json     # custom routes (root-level)
      - ./routes.json:/routes.json     # custom routes (root-level)
      - ./output:/output               # export location (optional but recommended)
      - ./.env:/.env:ro       # ðŸ”¥ mount real .env without copying
    working_dir: /app
    ports:
      - "3000:8000"
    command: >
      bash -c "python webserver.py"