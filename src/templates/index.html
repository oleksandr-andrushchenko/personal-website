{% extends "layout.html" %}

{% block content %}
    {% set ns = namespace(_blocks=[]) %}

    {% for key, block in __ctx__.items() %}
        {% if block is mapping and block.page_active and 'id' in block %}
            {% set ns._blocks = ns._blocks + [block] %}
        {% endif %}
    {% endfor %}

    {% for block in ns._blocks %}
        {% include block.id ~ ".html" ignore missing with context %}
    {% endfor %}
{% endblock %}
